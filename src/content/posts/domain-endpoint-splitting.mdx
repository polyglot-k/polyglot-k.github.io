---
title: "도메인 및 엔드 포인트를 나누는 기준"
description: "잡만리 프로젝트의 회사 상세 페이지 개발 중 마주한 API 설계 고민: 단일 I/O vs 다중 I/O, 캐싱 전략에 따른 엔드포인트 분리 기준"
date: "2025-11-16"
category: "Engineering"
tags:
  - API Design
  - Caching
  - Architecture
  - Jobmanli
---

클라이언트에서 단일 페이지 내에 가지고 와야 하는 요소들이 있어서, 이를 한번에 들고오는 것과 2번의 I/O로 호출해서 들고오는 것에 대해서 고민을 했습니다.

해당 포인트를 어디에 잡느냐에 따라서 설계의 방식이 달라지기 때문에 신중하게 선택하고자 했습니다.

![회사 상세 페이지 구조](/images/domain-splitting-criteria.png)

이 페이지에는 "토스라는 회사의 정보"와 "토스 회사 내 직군별 게시판(커뮤니티)"이 함께 노출됩니다.

두 섹션이 단일 페이지에서 동시에 보이므로, 처음에는 **한 번의 Network I/O로 데이터를 모두 불러오는 방식**이 가장 효율적으로 보입니다.

하지만 각 데이터의 변경 주기와 캐싱 특성을 고려하면 다른 접근이 필요합니다. 회사 및 직군 정보는 변경 빈도가 매우 낮은 정적 데이터에 가깝습니다. 관리자가 회사 정보를 추가하거나 수정하는 일은 자주 발생하지 않으며, 클라이언트는 이 데이터를 장기간 유지할 수 있습니다.

따라서 이 영역은 주문형 ISR(Incremental Static Regeneration)과 같은 방식으로 Invalidation을 수행하면 서버 호출 빈도를 크게 줄이면서도 최신 상태를 유지할 수 있습니다.

반면 **피드 영역**은 성격이 완전히 다릅니다.

게시글은 실시간으로 추가·수정·삭제될 수 있고, 무한 스크롤 구조에서는 상단 피드가 새로고침마다 바뀔 가능성이 높습니다. 변동성이 큰 데이터를 클라이언트 단에서 캐싱하는 것은 오히려 위험하며, 항상 서버와의 최신 동기화를 유지해야 합니다.

결국 두 영역은 변경 주기와 캐싱 전략이 다르기 때문에 API 또한 별도로 분리하는 것이 더 명확하고 효율적입니다.

# 결론

API 엔드포인트 설계 시, 단순히 "한 화면에 보이니까 하나로 묶는다"는 접근보다는 **데이터의 성격(변경 빈도, 캐싱 전략, 실시간성)**에 따라 나누는 것이 더 중요하다고 느꼈습니다.

클라이언트가 이를 **변경할 빈도, 사용할 시점** 등의 특성에 맞게 엔드포인트를 구성해야, 추후 유지보수와 성능 최적화(캐싱 등) 측면에서 유리한 설계를 가져갈 수 있습니다.
